using UnityEngine;

public class Invulnerability : MonoBehaviour
{
    [SerializeField] private float defaultInvulnerabilityDuration = 1.5f;
    public bool IsInvulnerable { get; private set; }

    public void BecomeInvulnerable(float? invulnerabilityDuration = null)
    {
        if (IsInvulnerable) return;

        if (!invulnerabilityDuration.HasValue)
            invulnerabilityDuration = defaultInvulnerabilityDuration;

        IsInvulnerable = true;
        Invoke(nameof(ResetInvulnerability), invulnerabilityDuration.Value);
    }

    private void ResetInvulnerability()
    {
        IsInvulnerable = false;
    }
}