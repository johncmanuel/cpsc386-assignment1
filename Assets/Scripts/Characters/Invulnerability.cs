using UnityEngine;

public class Invulnerability : MonoBehaviour
{
    [SerializeField] private float defaultInvulnerabilityDuration = 1.5f;
    public bool IsInvulnerable { get; private set; }

    public void BecomeInvulnerable(float? customDuration = null)
    {
        if (IsInvulnerable) return;

        if (!customDuration.HasValue)
            customDuration = defaultInvulnerabilityDuration;

        IsInvulnerable = true;
        Invoke(nameof(ResetInvulnerability), customDuration.Value);
    }

    private void ResetInvulnerability()
    {
        IsInvulnerable = false;
    }
}